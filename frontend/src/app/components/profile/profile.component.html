<div class="container">
  <button (click)="goBack()" class="btn-back">‚Üê Back to Dashboard</button>

  <div class="profile-section" *ngIf="profile">
    <div class="section-header">
      <h1>üë§ My Profile</h1>
      <button (click)="toggleEdit()" class="btn-edit">
        {{ isEditing ? '‚ùå Cancel' : '‚úèÔ∏è Edit' }}
      </button>
    </div>

    <div class="profile-grid">
      <div class="profile-card">
        <h3>Personal Information</h3>
        <div class="form-group">
          <label>First Name</label>
          <input
            type="text"
            [(ngModel)]="profile.firstName"
            [disabled]="!isEditing"
          />
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input
            type="text"
            [(ngModel)]="profile.lastName"
            [disabled]="!isEditing"
          />
        </div>
        <div class="form-group">
          <label>Email</label>
          <input type="email" [value]="profile.email" disabled />
        </div>
        <div class="form-group">
          <label>Phone</label>
          <input
            type="text"
            [(ngModel)]="profile.phone"
            [disabled]="!isEditing"
          />
        </div>
      </div>

      <div class="profile-card">
        <h3>Job Information</h3>
        <div class="form-group">
          <label>Employee ID</label>
          <input type="text" [value]="profile.employeeId" disabled />
        </div>
        <div class="form-group">
          <label>Department</label>
          <input
            type="text"
            [(ngModel)]="profile.department"
            [disabled]="!isEditing"
          />
        </div>
        <div class="form-group">
          <label>Position</label>
          <input
            type="text"
            [(ngModel)]="profile.position"
            [disabled]="!isEditing"
          />
        </div>
        <div class="form-group">
          <label>Joining Date</label>
          <input type="date" [value]="profile.joiningDate" disabled />
        </div>
      </div>

      <div class="profile-card">
        <h3>Address Information</h3>
        <div class="form-group">
          <label>Address</label>
          <textarea
            [(ngModel)]="profile.address"
            [disabled]="!isEditing"
            rows="3"
          ></textarea>
        </div>
      </div>

      <div class="profile-card">
        <h3>Salary Information</h3>
        <div class="salary-info">
          <div class="salary-item">
            <span>Base Salary</span>
            <strong>‚Çπ {{ profile.salary?.baseSalary || 0 | number }}</strong>
          </div>
          <div class="salary-item">
            <span>Allowances</span>
            <strong>‚Çπ {{ profile.salary?.allowances || 0 | number }}</strong>
          </div>
          <div class="salary-item">
            <span>Deductions</span>
            <strong>‚Çπ {{ profile.salary?.deductions || 0 | number }}</strong>
          </div>
          <div class="salary-item highlight">
            <span>Net Salary</span>
            <strong>‚Çπ {{ profile.salary?.netSalary || 0 | number }}</strong>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="isEditing" class="action-buttons">
      <button (click)="saveProfile()" [disabled]="loading" class="btn-save">
        {{ loading ? 'Saving...' : 'üíæ Save Changes' }}
      </button>
    </div>
  </div>
</div>
